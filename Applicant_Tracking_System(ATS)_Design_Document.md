# üìù Applicant Tracking System (ATS) - Component Design Document (CDD)

---

## ‚úÖ 1. Project Overview  
**Project Name**: Applicant Tracking System (ATS)  
**Objective**:  
Build a scalable web-based API using **FastAPI** and **PostgreSQL** to manage job postings, allow applicants to apply for jobs, and help recruiters rank applicants efficiently.  
The system includes role-based functionality for **Users (Applicants)** and **Recruiters**.

---

## ‚úÖ 2. Tech Stack

| Component       | Technology                          |
|---------------|-------------------------------------|
| Backend Framework | FastAPI                        |
| Database          | PostgreSQL (Docker: bitnami/postgresql) |
| ORM              | SQLAlchemy                      |
| Authentication   | JWT (JSON Web Tokens)           |
| API Documentation | Swagger UI (Auto-generated by FastAPI) |
| File Storage      | Local file system (or AWS S3 in future) |
| Containerization | Docker (with docker-compose support) |

---

## ‚úÖ 3. User Features

### ‚û§ Apply for Job  
- **API**: `POST /applicants/`  
- **Inputs**:  
    - job_id (integer)  
    - resume_file (PDF/DOC file upload)  
- **Description**: Allows a user to apply for a job by uploading their resume.

---

### ‚û§ Filter Jobs  
- **API**: `GET /jobs/?location=Delhi&posted_after=2024-01-01`  
- **Inputs (Query Parameters)**:  
    - location (string)  
    - posted_after (date)  
- **Description**: Filter jobs by location and posting date.

---

### ‚û§ View Job Postings  
- **API**: `GET /jobs/`  
- **Description**: List all available jobs with pagination and sorting support.

---

### ‚û§ Login  
- **API**: `POST /auth/login`  
- **Inputs**: email, password  
- **Description**: User login returning JWT token for further API calls.

---

### ‚û§ View Application Status  
- **API**: `GET /applicants/my_applications/`  
- **Description**: Lists all jobs the user applied for with current status and timestamps.

---

## ‚úÖ 4. Recruiter Features

### ‚û§ Create Job Posting  
- **API**: `POST /jobs/`  
- **Inputs**:  
    - title (string)  
    - description (string)  
    - location (string)  
    - company_name (string)  
    - years_of_experience (integer)  
    - application_deadline (datetime)  
- **Description**: Allows a recruiter to post a new job opening.

---

### ‚û§ View Job Postings  
- **API**: `GET /jobs/` (with recruiter-specific view)  
- **Description**: Recruiters can view their job postings with application counts.

---

### ‚û§ Ranked Resumes  
- **API**: `GET /jobs/{job_id}/ranked_applicants/`  
- **Description**: Returns applicants ranked by a configurable algorithm (experience, skills match, education level).

---

### ‚û§ Edit & Delete Job Postings  
- **API**: `PUT /jobs/{job_id}/`  
- **API**: `DELETE /jobs/{job_id}/`  
- **Description**: Recruiters can update or delete their own job postings.

---

### ‚û§ Download Resume Files  
- **API**: `GET /applicants/{applicant_id}/resume/`  
- **Description**: Download the applicant's uploaded resume file.

---

## ‚úÖ 5. Database Design

### ‚û§ Tables

#### 1. users
| Column         | Type     | Notes |
|--------------|----------|-------|
| id           | Integer  | PK    |
| name         | String   |       |
| email        | String   | Unique |
| password_hash| String   |       |
| role         | String   | "user" or "recruiter" |

---

#### 2. jobs
| Column             | Type      | Notes |
|--------------------|-----------|-------|
| id                 | Integer   | PK    |
| title              | String    |       |
| description        | Text      |       |
| location           | String    |       |
| company_name       | String    |       |
| years_of_experience| Integer   |       |
| created_at         | DateTime  | Timestamp |
| application_deadline | DateTime | Optional deadline |

---

#### 3. applicants
| Column       | Type      | Notes |
|------------|-----------|-------|
| id         | Integer   | PK    |
| name       | String    |       |
| email      | String    |       |
| resume_file | String   | File path / URL |
| job_id     | Integer   | FK ‚Üí jobs.id |
| status     | String    | e.g., Applied, Interview Scheduled, Rejected, Hired |
| applied_at | DateTime  | Timestamp |

---

#### 4. applicant_status_history (Optional Improvement)
| Column        | Type     | Notes |
|-------------|----------|-------|
| id          | Integer  | PK    |
| applicant_id | Integer | FK ‚Üí applicants.id |
| old_status   | String   |       |
| new_status   | String   |       |
| changed_at   | DateTime | Timestamp |

---

## ‚úÖ 6. Authentication & Security

- JWT-based token authentication  
- Role-based permissions  
    - User ‚Üí Apply, View jobs, View own applications  
    - Recruiter ‚Üí Create/Edit/Delete jobs, View applicants, Download resumes  

---

## ‚úÖ 7. Deployment Plan

```yaml
version: "3.8"

services:
  postgres:
    image: bitnami/postgresql:latest
    environment:
      POSTGRESQL_USERNAME: divyanshid
      POSTGRESQL_PASSWORD: 12345678
      POSTGRESQL_DATABASE: atsdb
    ports:
      - "5431:5432"

  fastapi:
    build: .
    command: uvicorn app.main:app --host 0.0.0.0 --port 8000
    ports:
      - "8000:8000"
    depends_on:
      - postgres
